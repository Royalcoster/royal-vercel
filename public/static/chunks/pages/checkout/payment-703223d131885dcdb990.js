(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8475],{83903:function(e,t,a){"use strict";a(67294),a(85893)},55567:function(e,t,a){"use strict";a.r(t);var r=a(4942),n=a(15861),s=a(87757),l=a.n(s),c=a(9008),o=a(67294),i=a(11163),d=a(41664),m=a(33274),p=a(11911),u=a(53854),h=a(81021),f=a(96209),x=a(46458),g=a(51293),y=a(53352),j=a(75021),N=(a(83903),a(85893));function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b="https://royalcoster.com:81/royalcoster/safepay.php";var k={creatCheckout:g.Eq};t.default=(0,x.$j)((function(e){return{checkOut:e.checkOut}}),k)((function(e){var t=(0,o.useState)(),a=t[0],r=t[1],s=(0,o.useState)(!0),x=s[0],g=s[1],v=(0,i.useRouter)(),k=(0,o.useState)(),O=k[0],C=k[1],w=(0,o.useState)(),_=w[0],I=w[1],J=(0,o.useState)(),A=J[0],D=J[1],E=(0,o.useState)(),P=E[0],R=E[1],T=(0,o.useState)(),F=T[0],q=T[1],M=(0,o.useState)(),z=M[0],H=M[1],L=(0,o.useState)("Netherlands"),Z=L[0],B=L[1],U=(0,o.useState)(),V=U[0],X=U[1],W=(0,o.useState)(),Q=W[0],G=W[1],Y=(0,o.useState)("same"),K=Y[0],ee=Y[1],te=(0,o.useState)(!1),ae=(te[0],te[1],(0,o.useState)(!1)),re=(ae[0],ae[1],(0,o.useState)("")),ne=(re[0],re[1],(0,o.useState)(!1)),se=(ne[0],ne[1]),le=(0,o.useState)(["IDEAL","VISA","MASTERCARD","AMEX","PAYPAL","BANCONTACT"]),ce=le[0],oe=le[1],ie=(0,y.Ds)().enqueueSnackbar,de=null,me=function(){var e=(0,n.Z)(l().mark((function e(t,a){var r,n,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],JSON.parse(localStorage.cart).cartData.map((function(e,t){var a=e.title;r.push({variantID:e.variant.variantId,quantity:e.amount,title:a})})),x?"same"==K?localStorage.setItem("billing",JSON.stringify(JSON.parse(localStorage.shipping))):!_|!A|!F|!z|!Z|!V||"undefined"!==typeof V&&(new RegExp(/^[0-9\b]+$/).test(V)?V.length<10||V.length>12?G("Please enter valid phone number."):(G(""),localStorage.setItem("billing",JSON.stringify({contact:{firstName:O,surName:_,phoneNumber:V},address:{street:A,apartment:P,zipCode:F,town:z,country:Z}})),ee("")):G("Please enter only number.")):(localStorage.removeItem("shipping"),localStorage.removeItem("products"),localStorage.removeItem("billing")),new FormData,n={order_data:r,discount_code:localStorage.discountCode?localStorage.discountCode:"",shipping:JSON.parse(localStorage.shipping),billing:JSON.parse(localStorage.billing),customer_info:S(S({email:localStorage.customerInfo},JSON.parse(localStorage.billing).contact),{},{address:JSON.parse(localStorage.billing).address}),remember_me:x,ppp:"1"},e.next=7,fetch(b,{method:"post",body:JSON.stringify(n)});case 7:return s=e.sent,e.next=10,s.json();case 10:return de=e.sent,e.abrupt("return",a.order.create({purchase_units:[{description:"Order: "+de.name,amount:{currency_code:"EUR",value:de.amount/100}}],application_context:{shipping_preference:"NO_SHIPPING"}}).then((function(e){return se(e),e})));case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();if((0,o.useEffect)((function(){var e,t,a,n,s,l;e=window,t=document,e.hj=e.hj||function(){(e.hj.q=e.hj.q||[]).push(arguments)},e._hjSettings={hjid:3002600,hjsv:6},a=t.getElementsByTagName("head")[0],(n=t.createElement("script")).async=1,n.src="https://static.hotjar.com/c/hotjar-"+e._hjSettings.hjid+".js?sv="+e._hjSettings.hjsv,a.appendChild(n);try{$.parseJSON(localStorage.cart)}catch(p){window.location.href="/cart"}r(localStorage);var c=$.parseJSON(localStorage.cart),o=$.parseJSON(localStorage.cItems),i=0,d=[];$.each(c.cartData,(function(){var e=o[this.shopifyid];if(void 0!==o[this.shopifyid]){i+=parseFloat(o[this.shopifyid].price)*parseFloat(o[this.shopifyid].quantity);var t={};t.id=e.id.toString(),t.name=e.simpleName,t.price=e.price.toString(),t.brand=e.brand,t.variant=this.variant.variantId.toString(),t.category=this.product_type,t.dimension1=this.size.toString(),t.quantity=e.quantity.toString(),d.push(t)}}));var m={event:"checkout",ecommerce:{value:i.toString(),currencyCode:"EUR",checkout:{actionField:{step:"3"},products:d}}};dataLayer.push(m),localStorage.billing?(l=JSON.parse(localStorage.billing).address,s=JSON.parse(localStorage.billing).contact):(l=JSON.parse(localStorage.shipping).address,s=JSON.parse(localStorage.shipping).contact),C(s.firstName),I(s.surName),X(s.phoneNumber),D(l.street),R(l.apartment),B(l.country),H(l.town),q(l.zipCode)}),[]),a){if(JSON.parse(localStorage.cart).subTotal){if(localStorage.shipping){var pe=JSON.parse(localStorage.shipping);return(0,N.jsxs)("div",{className:"checkout_page checkout-payment",children:[(0,N.jsxs)(c.default,{children:[(0,N.jsx)("title",{children:"Checkout Payment | Royal Coster"}),(0,N.jsx)("script",{async:!0,src:"/jQuery.js"}),(0,N.jsx)("script",{async:!0,src:"/bootstrap.min.js"})]}),(0,N.jsx)(m.default,{}),(0,N.jsx)("div",{className:"link-panel py-4",children:(0,N.jsxs)("div",{className:"r-container d-flex align-items-center",children:[(0,N.jsx)("button",{className:"btn back-arrow d-flex me-3 blue-text px-0",onClick:function(){return v.back()},children:(0,N.jsx)(u.Tsu,{})}),(0,N.jsx)(d.default,{passHref:!0,href:"/myCart",children:(0,N.jsx)("a",{className:"mx-2 text-uppercase",children:"Shopping cart"})}),"/",(0,N.jsx)(d.default,{passHref:!0,href:"/checkout/information",children:(0,N.jsx)("a",{className:"mx-2 text-uppercase",children:"information"})}),"/",(0,N.jsx)(d.default,{passHref:!0,href:"/checkout/shipping",children:(0,N.jsx)("a",{className:"mx-2 text-uppercase",children:"Shipping"})}),"/",(0,N.jsx)("span",{className:"title ms-2 text-uppercase blue-text",children:"Payment"})]})}),(0,N.jsxs)("div",{className:"row main-panel r-container py-5",children:[(0,N.jsxs)("div",{className:"col-lg-6 col-12 pt-lg-0 pt-sm-5 shipping-panel",children:[(0,N.jsxs)("div",{className:"pay-info",children:[(0,N.jsxs)("div",{className:"contact-panel round-panel round-form d-flex justify-content-between py-4 px-5 flex-sm-row flex-column",children:[(0,N.jsxs)("div",{className:"text-panel d-flex align-items-center",children:[(0,N.jsx)("h3",{className:"m-0 me-4",children:"Contact"}),(0,N.jsx)("p",{className:"m-0",children:localStorage.customerInfo})]}),(0,N.jsx)(d.default,{passHref:!0,href:"/checkout/information",children:(0,N.jsx)("a",{className:"text-primary text-decoration-underline text-end",children:"modify"})})]}),(0,N.jsxs)("div",{className:"address-panel round-panel round-form d-flex justify-content-between py-4 px-5 mt-4 flex-sm-row flex-column",children:[(0,N.jsxs)("div",{className:"text-panel d-flex",children:[(0,N.jsx)("h3",{className:"m-0 me-4",children:"Send To"}),(0,N.jsx)("p",{className:"m-0",children:pe.address.street+", "+pe.address.zipCode+", "+pe.address.town+", "+pe.address.country})]}),(0,N.jsx)(d.default,{passHref:!0,href:"/checkout/information",children:(0,N.jsx)("a",{className:"text-primary text-decoration-underline text-end",children:"modify"})})]}),(0,N.jsxs)("div",{className:"address-panel round-panel round-form d-flex justify-content-between py-4 px-5 mt-4 flex-sm-row flex-column",children:[(0,N.jsxs)("div",{className:"text-panel d-flex",children:[(0,N.jsx)("h3",{className:"m-0 me-4",children:"Manner"}),(0,N.jsxs)("p",{className:"m-0",children:["Standard :"," ","free"==pe.shippingMethod?"Free":"None"]})]}),(0,N.jsx)(d.default,{passHref:!0,href:"/checkout/shipping",children:(0,N.jsx)("a",{className:"text-primary text-decoration-underline text-end",children:"modify"})})]})]}),(0,N.jsxs)("div",{className:"payment-method mt-sm-5 py-5",children:[(0,N.jsxs)("div",{className:"title-panel py-4",children:[(0,N.jsx)("h3",{children:"Payment"}),(0,N.jsx)("p",{className:"m-0",children:"All transactions are secured and encrypted."})]}),(0,N.jsxs)("div",{className:"payment-checkout-panel payment-panel round-form mt-4 px-4",children:[(0,N.jsx)("div",{className:"form-check",children:(0,N.jsxs)("label",{className:"form-check-label py-4 d-flex align-items-center",htmlFor:"paymentMethod-1",children:[(0,N.jsx)("input",{className:"form-check-input",type:"radio",name:"flexRadioDefault",id:"paymentMethod-1",onChange:function(){return oe(["IDEAL"])}}),(0,N.jsx)("img",{src:"/img/myCart/payment-1.png",className:"ms-3"})]})}),(0,N.jsx)("div",{className:"form-check",children:(0,N.jsxs)("label",{className:"form-check-label d-flex align-items-center justify-content-between py-4",htmlFor:"paymentMethod-2",children:[(0,N.jsxs)("div",{className:"left-panel  d-flex align-items-center",children:[(0,N.jsx)("input",{className:"form-check-input",type:"radio",name:"flexRadioDefault",id:"paymentMethod-2",onChange:function(){return oe(["VISA","MASTERCARD","AMEX"])},defaultChecked:!0}),(0,N.jsx)("img",{src:"/img/myCart/payment-2.png",className:"ms-3"}),(0,N.jsx)("img",{src:"/img/myCart/payment-3.png",className:"ms-3"}),(0,N.jsx)("img",{src:"/img/myCart/payment-4.png",className:"ms-3"})]}),(0,N.jsx)("h3",{className:"m-0 payment-label",children:"Credit Card"})]})}),(0,N.jsx)("div",{className:"form-check",children:(0,N.jsxs)("label",{className:"form-check-label py-4 d-flex align-items-center",htmlFor:"paymentMethod-4",children:[(0,N.jsx)("input",{className:"form-check-input",type:"radio",name:"flexRadioDefault",id:"paymentMethod-4",onChange:function(){return oe(["BANCONTACT"])}}),(0,N.jsx)("img",{src:"/img/myCart/payment-6.png",className:"ms-3"})]})})]})]}),(0,N.jsx)("div",{className:"form-check",children:(0,N.jsx)(j.Vv,{options:{"disable-funding":"credit,card,ideal,bancontact",currency:"EUR","client-id":"ATO6OLl5uD_4CYxAhaGeuONRhLsp3vpQEj5XMVzFf--WgW8j882sJ_WVFkFAlogVZ2K7MctndZZWSIMQ"},children:(0,N.jsx)(j.ch,{style:{layout:"vertical"},createOrder:me,onApprove:function(e,t){return t.order.capture().then((function(e){window.location.href="https://royalcoster.com:81/royalcoster/safepay_response.php?orderid="+de.orderid}))}})})}),(0,N.jsxs)("form",{className:"form-control ",children:[(0,N.jsxs)("div",{className:"billing-address-panel mt-sm-5 py-sm-5",children:[(0,N.jsxs)("div",{className:"title-panel py-4",children:[(0,N.jsx)("h3",{children:"Billing address"}),(0,N.jsx)("p",{className:"m-0",children:"Select the address that corresponds to your card or payment method."})]}),(0,N.jsxs)("div",{className:"billing-checkout-panel payment-panel round-form mt-4 px-4",children:[(0,N.jsx)("div",{className:"form-check",children:(0,N.jsxs)("label",{className:"form-check-label py-4 d-flex align-items-center",htmlFor:"defaultAddress",children:[(0,N.jsx)("input",{className:"form-check-input",type:"radio",name:"billingRadio",id:"defaultAddress",onChange:function(e){return e.target.checked&&ee("same")},defaultChecked:!0}),(0,N.jsx)("h3",{className:"m-0 ms-3",children:"Same as delivery address"})]})}),(0,N.jsxs)("div",{className:"form-check different-address-panel",children:[(0,N.jsxs)("label",{className:"form-check-label d-flex align-items-center py-4",htmlFor:"differentAddress",children:[(0,N.jsx)("input",{className:"form-check-input",type:"radio",name:"billingRadio",id:"differentAddress",onChange:function(e){return e.target.checked&&ee("different")}}),(0,N.jsx)("h3",{className:"m-0 ms-3",children:"Use a different billing address"})]}),(0,N.jsx)("div",{className:"col-12 form-panel address-panel pt-lg-0 "+K,children:(0,N.jsxs)("div",{className:"delivery-panel py-4",children:[(0,N.jsx)("div",{className:"title-panel py-4",children:(0,N.jsx)("h3",{className:"blue-text m-0",children:"Billing address"})}),(0,N.jsxs)("div",{className:"input-panel pt-3",children:[(0,N.jsxs)("div",{className:"name-input row m-0 pt-4",children:[(0,N.jsx)("div",{className:"p-0 pe-md-3 pe-0 col-md-6 ",children:(0,N.jsx)("input",{type:"text",className:"form-control col-12 px-4 py-3 me-2 round-form first-name-form",placeholder:"First Name (Optional)",value:O,onChange:function(e){return C(e.target.value)}})}),(0,N.jsx)("div",{className:"p-0 ps-md-3 ps-0 pt-md-0 pt-4 col-md-6",children:(0,N.jsx)("input",{type:"text",className:"form-control col-12 px-4 py-3 round-form surname-name-form",placeholder:"Surname",value:_,onChange:function(e){return I(e.target.value)},required:!0})})]}),(0,N.jsx)("input",{type:"text",className:"form-control px-4 py-3 me-2 round-form street-form mt-4",placeholder:"Street and  house number",value:A,onChange:function(e){return D(e.target.value)},required:!0}),(0,N.jsx)("input",{type:"text",className:"form-control px-4 py-3 me-2 round-form apartment-form mt-4",placeholder:"Apartment no. etc... (Optional)",value:P,onChange:function(e){return R(e.target.value)}}),(0,N.jsxs)("div",{className:"zipCode-input row m-0 mt-4",children:[(0,N.jsx)("div",{className:"p-0 pe-md-3 pe-0 col-md-6 ",children:(0,N.jsx)("input",{type:"text",className:"form-control px-4 py-3 me-2 round-form zipCode-form",placeholder:"Zip Code",value:F,onChange:function(e){return q(e.target.value)},required:!0})}),(0,N.jsx)("div",{className:"p-0 ps-md-3 ps-0 pt-md-0 pt-4 col-md-6",children:(0,N.jsx)("input",{type:"text",className:"form-control px-4 py-3 round-form town-form",placeholder:"Town",value:z,onChange:function(e){return H(e.target.value)},required:!0})})]}),(0,N.jsx)(h.Px,{className:"form-control px-4 py-3 round-form country-form mt-4",value:Z,onChange:function(e){return B(e)},required:!0}),(0,N.jsx)("input",{className:"form-control px-4 py-3 me-2 round-form phone-form mt-4",placeholder:"Telephone Number",value:V,onChange:function(e){return X(e.target.value)},required:!0}),(0,N.jsx)("div",{className:"invalid-feedback",children:Q})]})]})})]})]})]}),(0,N.jsxs)("div",{className:"remember-panel mt-sm-5 py-5",children:[(0,N.jsx)("div",{className:"title-panel py-4",children:(0,N.jsx)("h3",{className:"m-0 remember-label",children:"Remember me"})}),(0,N.jsx)("div",{className:"remember-checkout-panel payment-panel round-form mt-4 px-4",children:(0,N.jsx)("div",{className:"form-check",children:(0,N.jsxs)("label",{className:"form-check-label py-4 d-flex align-items-center",htmlFor:"saveData",children:[(0,N.jsx)("input",{className:"form-check-input",type:"checkbox",name:"rememberRadio",id:"saveData",checked:x,onChange:function(e){return g(e.target.checked)}}),(0,N.jsx)("h3",{className:"m-0 ms-3",children:"Save my data to pay faster"})]})})})]}),(0,N.jsxs)("div",{className:"btn-panel pt-sm-5 d-flex flex-sm-row flex-column",children:[(0,N.jsx)("button",{type:"submit",className:"btn round-form blue-btn px-5 py-3 next-btn text-uppercase me-sm-4 mb-sm-0 mb-4",onClick:function(e){e.preventDefault();var t=[];JSON.parse(localStorage.cart).cartData.map((function(e,a){var r=e.title;t.push({variantID:e.variant.variantId,quantity:e.amount,title:r})})),x?"same"==K?(e.preventDefault(),localStorage.setItem("billing",JSON.stringify(JSON.parse(localStorage.shipping)))):!_|!A|!F|!z|!Z|!V?console.log(e):(e.preventDefault(),"undefined"!==typeof V&&(new RegExp(/^[0-9\b]+$/).test(V)?V.length<10||V.length>12?G("Please enter valid phone number."):(G(""),localStorage.setItem("billing",JSON.stringify({contact:{firstName:O,surName:_,phoneNumber:V},address:{street:A,apartment:P,zipCode:F,town:z,country:Z}})),ee("")):G("Please enter only number."))):(e.preventDefault(),localStorage.removeItem("shipping"),localStorage.removeItem("products"),localStorage.removeItem("billing")),new FormData;var a={order_data:t,discount_code:localStorage.discountCode?localStorage.discountCode:"",shipping:JSON.parse(localStorage.shipping),billing:JSON.parse(localStorage.billing),customer_info:S(S({email:localStorage.customerInfo},JSON.parse(localStorage.billing).contact),{},{address:JSON.parse(localStorage.billing).address}),payment_method:ce.join(","),remember_me:x};fetch(b,{method:"post",body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){e.body.RedirectUrl?(v.push(e.body.RedirectUrl),localStorage.setItem("token",e.body.Token)):ie("Something went wrong.",{variant:"warning"})}))},children:"Pay Now"}),(0,N.jsx)("button",{className:"btn round-form px-4 py-3 back-btn text-uppercase",onClick:function(){return window.location.href="/checkout/shipping"},children:"Back to shipment"})]})]})]}),(0,N.jsx)("div",{className:"col-lg-6 col-12 ps-lg-5 mb-lg-0 mb-5 order-lg-last order-first",children:(0,N.jsx)(f.Z,{})})]}),(0,N.jsx)(p.default,{})]})}return window.location.href="/checkout/information",(0,N.jsx)("div",{})}return window.location.href="/cart",(0,N.jsx)("div",{})}return(0,N.jsx)(N.Fragment,{})}))},51293:function(e,t,a){"use strict";a.d(t,{Eq:function(){return r}});var r=function(e){return{type:"CLIENT_CREATED",payload:e}}},88425:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout/payment",function(){return a(55567)}])}},function(e){e.O(0,[6556,822,8786,3734,8159,9774,2888,179],(function(){return t=88425,e(e.s=t);var t}));var t=e.O();_N_E=t}]);