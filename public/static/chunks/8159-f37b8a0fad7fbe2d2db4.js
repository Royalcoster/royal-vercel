"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8159,1911],{11911:function(e,t,a){a.r(t),a.d(t,{default:function(){return l}});var s=a(67294),i=a(41664),c=a(85893);function l(){var e=[{img:"Frame.png",url:"#"},{img:"Frame-1.png",url:"#"},{img:"Frame-2.png",url:"#"},{img:"Frame-3.png",url:"#"},{img:"Frame-4.png",url:"#"},{img:"Frame-5.png",url:"#"},{img:"Frame-6.png",url:"#"},{img:"Frame-7.png",url:"#"},{img:"Frame-8.png",url:"#"},{img:"Frame-9.png",url:"#"},{img:"Frame-11.png",url:"#"},{img:"Frame-12.png",url:"#"}];var t=(0,s.useState)(!1),a=t[0],l=t[1],o=(0,s.useState)(!1),n=(o[0],o[1]),r=(0,s.useState)(),d=r[0],m=r[1];return(0,s.useEffect)((function(){a||(fetch("https://wp.royalcoster.com/wp-json/wp/v2/page_templates?slug=footer"+(localStorage.language,""),{method:"get"}).then((function(e){return e.json()})).then((function(e){var t=[];console.log(e),$.each(e[0].acf.submenu,(function(){var e={};e.title=this.title;var a=[];$.each(this.menus,(function(){var e={};e.link=this.text,e.url=this.url,a.push(e)})),e.url=a,t.push(e)})),m(t),n(!0)})),l(!0))})),(0,c.jsxs)("div",{className:"footer pt-5",id:"footer",children:[(0,c.jsx)("div",{className:"main-footer r-container d-md-block d-none",children:d&&(0,c.jsx)("div",{className:"footer-middle row p-0 m-0 pt-5",children:d.map((function(e,t){return(0,c.jsxs)("div",{className:"col-lg-3 col-md-6 col-12 text-md-start text-center m-0 mb-5",children:[(0,c.jsx)("h3",{className:"mb-5",children:e.title}),e.url.map((function(e,t){return(0,c.jsx)(i.default,{passHref:!0,href:e.tags?{pathname:e.url,query:{tags:e.tags,productType:e.product_type}}:e.url,children:(0,c.jsx)("a",{className:"row m-0 mb-3 text-uppercase",children:e.link})},t)}))]},t)}))})}),(0,c.jsxs)("div",{className:"mobile-footer r-container d-md-none d-block",children:[(0,c.jsxs)("div",{className:"mobile-footer-logo text-center",children:[(0,c.jsx)("img",{src:"/img/common/logo_black.png",alt:"footer-logo"}),(0,c.jsx)("p",{className:"mobile-footer__title my-5",children:"The oldest diamond polishing factory in the world. Home of the Royal 201."})]}),(0,c.jsxs)("div",{className:"accordion",id:"links-panel",children:[d&&d.map((function(e,t){return(0,c.jsxs)("div",{className:"accordion-item",children:[(0,c.jsx)("h2",{className:"accordion-header",children:(0,c.jsx)("button",{className:"accordion-button collapsed py-5 ps-0","data-bs-toggle":"collapse","data-bs-target":"#footerIndex"+t,children:e.title})}),(0,c.jsx)("div",{className:"accordion-collapse collapse",id:"footerIndex"+t,children:(0,c.jsx)("div",{className:"accordion-body",children:e.url.map((function(e,t){return(0,c.jsx)(i.default,{passHref:!0,href:e.url,children:(0,c.jsx)("a",{children:(0,c.jsx)("div",{className:"link-item mb-5 text-uppercase",children:e.link})})},t)}))})})]},t)})),(0,c.jsxs)("div",{className:"accordion-item",children:[(0,c.jsx)("h2",{className:"accordion-header",children:(0,c.jsx)("button",{className:"accordion-button collapsed py-5 ps-0","data-bs-toggle":"collapse","data-bs-target":"#footerPrivacy",children:"Privacy"})}),(0,c.jsx)("div",{className:"accordion-collapse collapse",id:"footerPrivacy",children:(0,c.jsxs)("div",{className:"accordion-body",children:[(0,c.jsx)(i.default,{passHref:!0,href:"/privacy-policy",children:(0,c.jsx)("a",{children:(0,c.jsx)("div",{className:"link-item mb-5 text-uppercase",children:"Privacy Policy"})})}),(0,c.jsx)(i.default,{passHref:!0,href:"#",children:(0,c.jsx)("a",{children:(0,c.jsx)("div",{className:"link-item mb-5 text-uppercase",children:"Terms"})})})]})})]})]}),(0,c.jsx)("div",{className:"col-12 py-4 px-0 text-center",children:e.map((function(e,t){return(0,c.jsx)(i.default,{passHref:!0,href:e.url,children:(0,c.jsx)("a",{className:0==t?"ms-0":"ms-4",children:(0,c.jsx)("img",{src:"/img/common/"+e.img,alt:"payment-getway",width:"38",className:"my-2"})})},t)}))})]}),(0,c.jsx)("div",{className:"footer-bottom r-container py-3",children:(0,c.jsxs)("div",{className:"row m-auto align-items-center p-0",children:[(0,c.jsxs)("div",{className:"col-md-5 text-md-start text-center px-0 text-uppercase",children:[(0,c.jsxs)("div",{className:"mb-3 text-decoration-underline",children:[(0,c.jsx)(i.default,{passHref:!0,href:"/privacy-policy",children:(0,c.jsx)("a",{className:"text-uppercase",children:"Privacy Policy"})}),(0,c.jsx)(i.default,{passHref:!0,href:"#",children:(0,c.jsx)("a",{className:"text-uppercase ms-5",children:"Terms"})})]}),"\xa9 2020 Royal Coster Diamonds - All rights reserved"]}),(0,c.jsx)("div",{className:"col-md-7 d-md-block d-none px-0 mt-md-0 mt-3 text-md-end text-center",children:e.map((function(e,t){return(0,c.jsx)("a",{className:0==t?"ms-0":"ms-4",children:(0,c.jsx)("img",{src:"/img/common/"+e.img,alt:"payment-getway",width:"38",className:"my-4"})},t)}))})]})})]})}},96209:function(e,t,a){a.d(t,{Z:function(){return m}});var s=a(67294),i=a(79352),c=a(57333),l=a(11163),o=a(10031),n=a.n(o),r=a(58365),d=a(85893);function m(){var e=(0,s.useState)(),t=e[0],a=e[1],o=(0,s.useState)(),m=o[0],u=o[1],p=(0,s.useState)(),h=(p[0],p[1]),x=((0,l.useRouter)(),(0,s.useState)(!1)),f=x[0],j=x[1],g=(0,s.useState)(),v=(g[0],g[1],(0,s.useState)()),y=(v[0],v[1],(0,s.useState)(!1)),N=y[0],b=y[1],S=(0,s.useState)(),k=S[0],T=S[1];(0,s.useEffect)((function(){if(!f){if(j(!0),localStorage.cart){var e=JSON.parse(localStorage.cart).cartData;h(JSON.parse(localStorage.cart).subTotal)}localStorage.discountCode&&u(localStorage.discountCode);var t=setInterval((function(){void 0!==e&&(clearInterval(t),w())}),100)}}),[f]);var w=function(){b(!1);var e=n().buildClient({domain:"costerdiamonds.myshopify.com",storefrontAccessToken:"263aa4426be9105da5128496c1a774c2"});if(localStorage.cart){var t=JSON.parse(localStorage.cart).cartData;a(JSON.parse(localStorage.cart).cartData),h(JSON.parse(localStorage.cart).subTotal)}localStorage.discountCode&&u(localStorage.discountCode);var s=[];if($.each(t,(function(){var e=this,t=[];""!=e.size&&t.push({key:"Ring size",value:e.size}),""!=e.letter&&t.push({key:"Letter",value:e.letter});var a={variantId:btoa("gid://shopify/ProductVariant/"+e.variant.variantId),quantity:e.amount,customAttributes:t};s.push(a)})),$("[ep]").hide(),void 0===localStorage.checkoutID)e.checkout.create().then((function(t){var a=t.id;localStorage.checkoutID=t.id,e.checkout.addLineItems(a,s).then((function(t){void 0!=localStorage.discountCode?""!==localStorage.discountCode&&e.checkout.addDiscount(a,localStorage.discountCode).then((function(e){try{e.discountApplications[0].applicable?$("#codeok").show():$("#codefailed").show(),I(e)}catch(t){$("#codefailed").show(),I(e)}})):I(t),b(!0),console.log(t)}))}));else{var i=localStorage.checkoutID;e.checkout.fetch(i).then((function(t){var a=[];$.each(t.lineItems,(function(){a.push(btoa(this.id))})),e.checkout.removeDiscount(i).then((function(t){e.checkout.removeLineItems(i,a).then((function(t){e.checkout.addLineItems(i,s).then((function(t){void 0!==localStorage.discountCode?(""!=localStorage.discountCode?e.checkout.addDiscount(i,localStorage.discountCode).then((function(e){try{e.discountApplications[0].applicable?$("#codeok").show():$("#codefailed").show(),I(e)}catch(t){$("#codefailed").show(),I(e)}})):I(t),I(t)):I(t)}))}))}))}))}};function I(e){var t=JSON.parse(localStorage.cart).cartData;$.each(e.lineItems,(function(e){var a=this;$.each(t,(function(){this.variant.variantId==a.variant.id.split("/")[a.variant.id.split("/").length-1]&&(this.lineItem=a)}))})),0==e.discountApplications.length?e.discountType="NONE":"ALL"==e.discountApplications[0].targetSelection?e.discountType="TOTAL":e.discountType="ITEM",console.log(e),T(e),a(t),b(!0)}return(0,d.jsxs)("div",{className:"my-cart-list round p-5",children:[(0,d.jsxs)("div",{className:"myItem-panel",children:[t&&!N&&(0,d.jsxs)("div",{children:[(0,d.jsx)(r.Z,{variant:"text",width:"100%",height:200,className:"mb-4"}),(0,d.jsx)(r.Z,{variant:"text",width:"100%",height:80,className:"mb-4"}),(0,d.jsx)(r.Z,{variant:"text",height:35,width:"100%"})]}),N&&(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{id:"codefailed",ep:"1",style:{backgroundColor:"red",marginBottom:15,padding:15,color:"white",fontSzie:20,fontSize:20,display:"none",fontWeigh:"bold"},children:"Your code seems to be invalid"}),(0,d.jsx)("div",{id:"codeok",ep:"1",style:{marginBottom:15,backgroundColor:"green",padding:15,color:"white",display:"none",fontSize:20},children:"Success! Your discount will be applied"})]}),t&&N&&t.map((function(e,t){return(0,d.jsxs)("div",{className:"item-detail row m-0 mb-4 pb-2 align-items-center",children:[(0,d.jsxs)("div",{className:"item-info col-sm-7 p-0 d-flex align-items-center",children:[(0,d.jsx)("img",{src:e.image,className:"cart-image me-4 round-form",alt:"cart-image"}),(0,d.jsxs)("div",{className:"text-panel",children:[(0,d.jsx)("h3",{className:"title blue-text m-0 mb-3",children:e.title}),(0,d.jsx)("p",{className:"cart-type mb-0 mb-2",children:(0,d.jsx)("span",{className:"me-3",children:e.product_type})}),(0,d.jsxs)("p",{className:"cart-amount mb-0",children:["x",e.amount]})]})]}),(0,d.jsxs)("div",{className:"item-price col-sm-5 p-0 text-end blue-text",children:[(0,d.jsx)(c.Z,{value:(parseFloat(e.amount)*parseFloat(e.price)).toFixed(2),displayType:"text",thousandSeparator:!0,decimaScale:"2",fixedDecimalScale:!0,prefix:"\u20ac "}),(0,d.jsx)("br",{}),void 0!==e.lineItem.discountAllocations&&e.lineItem.discountAllocations.length>0&&"ITEM"==k.discountType&&(0,d.jsx)("span",{style:{marginRight:5},children:e.lineItem.discountAllocations[0].discountApplication.code}),void 0!==e.lineItem.discountAllocations&&e.lineItem.discountAllocations.length>0&&"ITEM"==k.discountType&&(0,d.jsx)(c.Z,{value:parseFloat(e.lineItem.discountAllocations[0].allocatedAmount.amount).toFixed(2),displayType:"text",decimaScale:"2",fixedDecimalScale:!0,thousandSeparator:!0,prefix:"-\u20ac "}),(0,d.jsx)("br",{}),void 0!==e.lineItem.discountAllocations&&e.lineItem.discountAllocations.length>0&&"ITEM"==k.discountType&&(0,d.jsx)(c.Z,{value:(parseFloat(e.price)*parseFloat(e.amount)-parseFloat(e.lineItem.discountAllocations[0].allocatedAmount.amount)).toFixed(2),displayType:"text",decimaScale:"2",fixedDecimalScale:!0,thousandSeparator:!0,prefix:"\u20ac "})]})]},t)}))]}),N&&(0,d.jsxs)("div",{className:"discount-panel d-flex py-4",children:[(0,d.jsx)("input",{type:"text",className:"form-control discount-code px-5 py-3 round-form me-3",placeholder:"Discount Code",value:m,onChange:function(e){u(e.target.value)}}),(0,d.jsx)("button",{className:"btn blue-btn btn-discount text-uppercase round-form px-5 py-3",onClick:function(){localStorage.setItem("discountCode",m),w()},children:"apply"}),")}"]}),N&&k&&"TOTAL"!=k.discountType&&(0,d.jsxs)("div",{className:"sub-price py-4",children:[(0,d.jsxs)("div",{className:"sub-total d-flex justify-content-between",children:[(0,d.jsx)("h3",{className:"title",children:"Subtotal:"}),(0,d.jsx)("p",{className:"price",children:(0,d.jsx)(c.Z,{value:k.subtotalPrice,displayType:"text",thousandSeparator:!0,prefix:"\u20ac "})})]}),(0,d.jsxs)("div",{className:"shipping-price d-flex justify-content-between",children:[(0,d.jsxs)("h3",{className:"total d-flex align-items-center",children:["Shipping",(0,d.jsx)(i.j6O,{className:"ms-2"})]}),(0,d.jsx)("p",{className:"content",children:"Calculated at the next step"})]})]}),N&&k&&"TOTAL"==k.discountType&&(0,d.jsxs)("div",{className:"sub-price py-4",children:[(0,d.jsxs)("div",{className:"sub-total d-flex justify-content-between",children:[(0,d.jsx)("h3",{className:"title",children:"Subtotal:"}),(0,d.jsx)("p",{className:"price",children:(0,d.jsx)(c.Z,{value:parseFloat(k.lineItemsSubtotalPrice.amount).toFixed(2),displayType:"text",thousandSeparator:!0,prefix:"\u20ac "})})]}),(0,d.jsxs)("div",{className:"sub-total d-flex justify-content-between",children:[(0,d.jsx)("h3",{className:"title",children:"Discount code applied: "+localStorage.discountCode}),(0,d.jsx)("p",{className:"price",children:(0,d.jsx)(c.Z,{value:(parseFloat(k.lineItemsSubtotalPrice.amount)-parseFloat(k.subtotalPrice)).toFixed(2),displayType:"text",thousandSeparator:!0,prefix:"-\u20ac "})})]}),(0,d.jsxs)("div",{className:"sub-total d-flex justify-content-between",children:[(0,d.jsx)("h3",{className:"title"}),(0,d.jsx)("p",{className:"price",children:(0,d.jsx)(c.Z,{value:parseFloat(k.subtotalPrice).toFixed(2),displayType:"text",thousandSeparator:!0,prefix:"\u20ac "})})]}),(0,d.jsxs)("div",{className:"shipping-price d-flex justify-content-between",children:[(0,d.jsxs)("h3",{className:"total d-flex align-items-center",children:["Shipping",(0,d.jsx)(i.j6O,{className:"ms-2"})]}),(0,d.jsx)("p",{className:"content",children:"Calculated at the next step"})]})]}),N&&(0,d.jsxs)("div",{className:"final-price py-4",children:[(0,d.jsxs)("div",{className:"total-price d-flex justify-content-between",children:[(0,d.jsx)("h3",{className:"title text-capitalize",children:"total"}),(0,d.jsx)("p",{className:"content",children:(0,d.jsx)(c.Z,{value:k.subtotalPrice,displayType:"text",thousandSeparator:!0,prefix:"\u20ac "})})]}),(0,d.jsxs)("div",{className:"result-panel py-3 px-4 d-flex justify-content-between align-items-center",children:[(0,d.jsx)("h3",{className:"title m-0",children:"To be paid:"}),(0,d.jsx)("p",{className:"content m-0",children:(0,d.jsx)(c.Z,{value:k.subtotalPrice,displayType:"text",thousandSeparator:!0,prefix:"\u20ac "})})]})]})]})}}}]);